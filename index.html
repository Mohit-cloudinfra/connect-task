<!DOCTYPE html>
     <html>
     <head>
       <title>SharkEnglishQueue — Task Console</title>
       <style>
         table { border-collapse: collapse; width: 100%; }
         th, td { border: 1px solid black; padding: 8px; text-align: left; }
         th { background-color: #f2f2f2; }
         button { margin-right: 5px; }
       </style>
     </head>
     <body>
       <h1>SharkEnglishQueue — Task Console</h1>
       <p>Shows tasks in SharkEnglishQueue. Use Hold to move to TempEnglishSharkQueue; Resume moves back.</p>
       <div>
         Queue ID: <input id="queueId" type="text" value="c14c7415-189e-4212-a766-6bfcbdc62e6d">
         <button onclick="loadTasks()">Load tasks</button>
       </div>
       <table>
         <thead>
           <tr>
             <th>ContactId</th>
             <th>Title</th>
             <th>Description</th>
             <th>Start Date</th>
             <th>Start Time</th>
             <th>Enqueued</th>
             <th>State</th>
             <th>Actions</th>
           </tr>
         </thead>
         <tbody id="tasksBody"></tbody>
       </table>
       <script>
         const API_BASE_URL = 'https://your-api-gateway-invoke-url.execute-api.us-west-2.amazonaws.com'; // Replace with your API URL

         async function loadTasks() {
           try {
             const queueId = document.getElementById('queueId').value;
             const response = await fetch(`${API_BASE_URL}/tasks?queueId=${queueId}`, { method: 'GET' });
             if (!response.ok) throw new Error(`HTTP error ${response.status}`);
             const data = await response.json();
             const tbody = document.getElementById('tasksBody');
             tbody.innerHTML = ''; // Clear table
             data.rows.forEach(row => {
               const tr = document.createElement('tr');
               const enqueued = row.enqueueTimestamp ? new Date(row.enqueueTimestamp).toLocaleString() : 'N/A';
               const actions = row.state === 'QUEUED' ? `
                 <button onclick="holdTask('${row.contactId}')">Hold</button>
                 <button onclick="resumeTask('${row.contactId}')">Resume</button>
               ` : '';
               tr.innerHTML = `
                 <td>${row.contactId}</td>
                 <td>${row.title || 'N/A'}</td>
                 <td>${row.description || 'N/A'}</td>
                 <td>${new Date(row.initiationTimestamp).toLocaleDateString()}</td>
                 <td>${new Date(row.initiationTimestamp).toLocaleTimeString()}</td>
                 <td>${enqueued}</td>
                 <td>${row.state}</td>
                 <td>${actions}</td>
               `;
               tbody.appendChild(tr);
             });
           } catch (err) {
             alert('Error loading tasks: ' + err.message);
           }
         }

         async function holdTask(contactId) {
           try {
             const response = await fetch(`${API_BASE_URL}/pause`, {
               method: 'POST',
               body: JSON.stringify({ contactId }),
               headers: { 'Content-Type': 'application/json' }
             });
             if (!response.ok) throw new Error(`HTTP error ${response.status}`);
             await loadTasks(); // Refresh
           } catch (err) {
             alert('Error holding task: ' + err.message);
           }
         }

         async function resumeTask(contactId) {
           try {
             const response = await fetch(`${API_BASE_URL}/resume`, {
               method: 'POST',
               body: JSON.stringify({ contactId }),
               headers: { 'Content-Type': 'application/json' }
             });
             if (!response.ok) throw new Error(`HTTP error ${response.status}`);
             await loadTasks(); // Refresh
           } catch (err) {
             alert('Error resuming task: ' + err.message);
           }
         }
       </script>
     </body>
     </html>
